System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///_virtual/AStarFinder.js",["./cjs-loader.mjs","./index3.js","./Util.js","./Heuristic.js","./DiagonalMovement.js"],(function(e,t){"use strict";var i,n,o,s,a;return{setters:[function(e){i=e.default},function(e){n=e.__cjsMetaURL},function(e){o=e.__cjsMetaURL},function(e){s=e.__cjsMetaURL},function(e){a=e.__cjsMetaURL}],execute:function(){var r=e("__cjsMetaURL",t.meta.url);i.define(r,(function(e,t,i,n,o){var s=t("heap"),a=t("../core/Util"),r=t("../core/Heuristic"),c=t("../core/DiagonalMovement");function h(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||r.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=c.OnlyWhenNoObstacles:this.diagonalMovement=c.IfAtMostOneObstacle:this.diagonalMovement=c.Never),this.diagonalMovement===c.Never?this.heuristic=e.heuristic||r.manhattan:this.heuristic=e.heuristic||r.octile}h.prototype.findPath=function(e,t,i,n,o){var r,c,h,u,l,g,d,f,M=new s((function(e,t){return e.f-t.f})),m=o.getNodeAt(e,t),v=o.getNodeAt(i,n),p=this.heuristic,j=this.diagonalMovement,_=this.weight,U=Math.abs,w=Math.SQRT2;for(m.g=0,m.f=0,M.push(m),m.opened=!0;!M.empty();){if((r=M.pop()).closed=!0,r===v)return a.backtrace(v);for(u=0,l=(c=o.getNeighbors(r,j)).length;u<l;++u)(h=c[u]).closed||(g=h.x,d=h.y,f=r.g+(g-r.x==0||d-r.y==0?1:w),(!h.opened||f<h.g)&&(h.g=f,h.h=h.h||_*p(U(g-i),U(d-n)),h.f=h.g+h.h,h.parent=r,h.opened?M.updateItem(h):(M.push(h),h.opened=!0)))}return[]},i.exports=h,i.exports}),(function(){return{heap:n,"../core/Util":o,"../core/Heuristic":s,"../core/DiagonalMovement":a}}))}}}));

System.register("chunks:///_virtual/BestFirstFinder.js",["./cjs-loader.mjs","./AStarFinder.js"],(function(t,r){"use strict";var e,n;return{setters:[function(t){e=t.default},function(t){n=t.__cjsMetaURL}],execute:function(){var i=t("__cjsMetaURL",r.meta.url);e.define(i,(function(t,r,e,n,i){var s=r("./AStarFinder");function u(t){s.call(this,t);var r=this.heuristic;this.heuristic=function(t,e){return 1e6*r(t,e)}}u.prototype=new s,u.prototype.constructor=u,e.exports=u,e.exports}),(function(){return{"./AStarFinder":n}}))}}}));

System.register("chunks:///_virtual/BiAStarFinder.js",["./cjs-loader.mjs","./index3.js","./Util.js","./Heuristic.js","./DiagonalMovement.js"],(function(e,t){"use strict";var n,i,o,s,a;return{setters:[function(e){n=e.default},function(e){i=e.__cjsMetaURL},function(e){o=e.__cjsMetaURL},function(e){s=e.__cjsMetaURL},function(e){a=e.__cjsMetaURL}],execute:function(){var r=e("__cjsMetaURL",t.meta.url);n.define(r,(function(e,t,n,i,o){var s=t("heap"),a=t("../core/Util"),r=t("../core/Heuristic"),h=t("../core/DiagonalMovement");function c(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||r.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=h.OnlyWhenNoObstacles:this.diagonalMovement=h.IfAtMostOneObstacle:this.diagonalMovement=h.Never),this.diagonalMovement===h.Never?this.heuristic=e.heuristic||r.manhattan:this.heuristic=e.heuristic||r.octile}c.prototype.findPath=function(e,t,n,i,o){var r,h,c,u,l,g,d,p,f=function(e,t){return e.f-t.f},m=new s(f),M=new s(f),v=o.getNodeAt(e,t),j=o.getNodeAt(n,i),_=this.heuristic,y=this.diagonalMovement,w=this.weight,x=Math.abs,U=Math.SQRT2;for(v.g=0,v.f=0,m.push(v),v.opened=1,j.g=0,j.f=0,M.push(j),j.opened=2;!m.empty()&&!M.empty();){for((r=m.pop()).closed=!0,u=0,l=(h=o.getNeighbors(r,y)).length;u<l;++u)if(!(c=h[u]).closed){if(2===c.opened)return a.biBacktrace(r,c);g=c.x,d=c.y,p=r.g+(g-r.x==0||d-r.y==0?1:U),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||w*_(x(g-n),x(d-i)),c.f=c.g+c.h,c.parent=r,c.opened?m.updateItem(c):(m.push(c),c.opened=1))}for((r=M.pop()).closed=!0,u=0,l=(h=o.getNeighbors(r,y)).length;u<l;++u)if(!(c=h[u]).closed){if(1===c.opened)return a.biBacktrace(c,r);g=c.x,d=c.y,p=r.g+(g-r.x==0||d-r.y==0?1:U),(!c.opened||p<c.g)&&(c.g=p,c.h=c.h||w*_(x(g-e),x(d-t)),c.f=c.g+c.h,c.parent=r,c.opened?M.updateItem(c):(M.push(c),c.opened=2))}}return[]},n.exports=c,n.exports}),(function(){return{heap:i,"../core/Util":o,"../core/Heuristic":s,"../core/DiagonalMovement":a}}))}}}));

System.register("chunks:///_virtual/BiBestFirstFinder.js",["./cjs-loader.mjs","./BiAStarFinder.js"],(function(t,r){"use strict";var e,i;return{setters:[function(t){e=t.default},function(t){i=t.__cjsMetaURL}],execute:function(){var n=t("__cjsMetaURL",r.meta.url);e.define(n,(function(t,r,e,i,n){var s=r("./BiAStarFinder");function u(t){s.call(this,t);var r=this.heuristic;this.heuristic=function(t,e){return 1e6*r(t,e)}}u.prototype=new s,u.prototype.constructor=u,e.exports=u,e.exports}),(function(){return{"./BiAStarFinder":i}}))}}}));

System.register("chunks:///_virtual/BiBreadthFirstFinder.js",["./cjs-loader.mjs","./Util.js","./DiagonalMovement.js"],(function(e,t){"use strict";var o,n,i;return{setters:[function(e){o=e.default},function(e){n=e.__cjsMetaURL},function(e){i=e.__cjsMetaURL}],execute:function(){var s=e("__cjsMetaURL",t.meta.url);o.define(s,(function(e,t,o,n,i){var s=t("../core/Util"),a=t("../core/DiagonalMovement");function r(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never)}r.prototype.findPath=function(e,t,o,n,i){var a,r,l,c,d,h=i.getNodeAt(e,t),f=i.getNodeAt(o,n),g=[],u=[],p=this.diagonalMovement;for(g.push(h),h.opened=!0,h.by=0,u.push(f),f.opened=!0,f.by=1;g.length&&u.length;){for((l=g.shift()).closed=!0,c=0,d=(a=i.getNeighbors(l,p)).length;c<d;++c)if(!(r=a[c]).closed)if(r.opened){if(1===r.by)return s.biBacktrace(l,r)}else g.push(r),r.parent=l,r.opened=!0,r.by=0;for((l=u.shift()).closed=!0,c=0,d=(a=i.getNeighbors(l,p)).length;c<d;++c)if(!(r=a[c]).closed)if(r.opened){if(0===r.by)return s.biBacktrace(r,l)}else u.push(r),r.parent=l,r.opened=!0,r.by=1}return[]},o.exports=r,o.exports}),(function(){return{"../core/Util":n,"../core/DiagonalMovement":i}}))}}}));

System.register("chunks:///_virtual/BiDijkstraFinder.js",["./cjs-loader.mjs","./BiAStarFinder.js"],(function(t,r){"use strict";var e,n;return{setters:[function(t){e=t.default},function(t){n=t.__cjsMetaURL}],execute:function(){var i=t("__cjsMetaURL",r.meta.url);e.define(i,(function(t,r,e,n,i){var s=r("./BiAStarFinder");function u(t){s.call(this,t),this.heuristic=function(t,r){return 0}}u.prototype=new s,u.prototype.constructor=u,e.exports=u,e.exports}),(function(){return{"./BiAStarFinder":n}}))}}}));

System.register("chunks:///_virtual/BreadthFirstFinder.js",["./cjs-loader.mjs","./Util.js","./DiagonalMovement.js"],(function(e,t){"use strict";var o,n,a;return{setters:[function(e){o=e.default},function(e){n=e.__cjsMetaURL},function(e){a=e.__cjsMetaURL}],execute:function(){var s=e("__cjsMetaURL",t.meta.url);o.define(s,(function(e,t,o,n,a){var s=t("../core/Util"),i=t("../core/DiagonalMovement");function r(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never)}r.prototype.findPath=function(e,t,o,n,a){var i,r,l,c,d,u=[],g=this.diagonalMovement,h=a.getNodeAt(e,t),f=a.getNodeAt(o,n);for(u.push(h),h.opened=!0;u.length;){if((l=u.shift()).closed=!0,l===f)return s.backtrace(f);for(c=0,d=(i=a.getNeighbors(l,g)).length;c<d;++c)(r=i[c]).closed||r.opened||(u.push(r),r.opened=!0,r.parent=l)}return[]},o.exports=r,o.exports}),(function(){return{"../core/Util":n,"../core/DiagonalMovement":a}}))}}}));

System.register("chunks:///_virtual/cjs-loader.mjs",[],(function(e){"use strict";return{execute:function(){e("default",new(function(){function e(){this._registry={},this._moduleCache={}}var r=e.prototype;return r.define=function(e,r,t){this._registry[e]={factory:r,resolveMap:t}},r.require=function(e){return this._require(e)},r.throwInvalidWrapper=function(e,r){throw new Error("Module '"+e+"' imported from '"+r+"' is expected be an ESM-wrapped CommonJS module but it doesn't.")},r._require=function(e,r){var t=this._moduleCache[e];if(t)return t.exports;var o={id:e,exports:{}};return this._moduleCache[e]=o,this._tryModuleLoad(o,e),o.exports},r._resolve=function(e,r){return this._resolveFromInfos(e,r)||this._throwUnresolved(e,r)},r._resolveFromInfos=function(e,r){var t,o;return e in cjsInfos?e:r&&null!=(t=null==(o=cjsInfos[r])?void 0:o.resolveCache[e])?t:void 0},r._tryModuleLoad=function(e,r){var t=!0;try{this._load(e,r),t=!1}finally{t&&delete this._moduleCache[r]}},r._load=function(e,r){var t=this._loadWrapper(r),o=t.factory,n=t.resolveMap,i=this._createRequire(e),u=n?this._createRequireWithResolveMap("function"==typeof n?n():n,i):i;o(e.exports,u,e)},r._loadWrapper=function(e){return e in this._registry?this._registry[e]:this._loadHostProvidedModules(e)},r._loadHostProvidedModules=function(e){return{factory:function(r,t,o){if("undefined"==typeof require)throw new Error("Current environment does not provide a require() for requiring '"+e+"'.");try{o.exports=require(e)}catch(r){throw new Error("Exception thrown when calling host defined require('"+e+"').",{cause:r})}}}},r._createRequire=function(e){var r=this;return function(t){return r._require(t,e)}},r._createRequireWithResolveMap=function(e,r){return function(t){var o=e[t];if(o)return r(o);throw new Error("Unresolved specifier "+t)}},r._throwUnresolved=function(e,r){throw new Error("Unable to resolve "+e+" from "+parent+".")},e}()))}}}));

System.register("chunks:///_virtual/convex.js",["./cjs-loader.mjs"],(function(t,e){"use strict";var n;return{setters:[function(t){n=t.default}],execute:function(){var r=t("__cjsMetaURL",e.meta.url);n.define(r,(function(t,e,n,r,u){function o(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}n.exports=function(t){var e=function(t){for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&o(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}return e.pop(),e}(t),n=function(t){for(var e=t.reverse(),n=[],r=0;r<e.length;r++){for(;n.length>=2&&o(n[n.length-2],n[n.length-1],e[r])<=0;)n.pop();n.push(e[r])}return n.pop(),n}(t).concat(e);return n.push(t[0]),n},n.exports}),{})}}}));

System.register("chunks:///_virtual/DBSCAN.js",["./cjs-loader.mjs"],(function(t,s){"use strict";var i;return{setters:[function(t){i=t.default}],execute:function(){var e=t("__cjsMetaURL",s.meta.url);i.define(e,(function(t,s,i,e,n){function r(t,s,i,e){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,s,i,e)}r.prototype.run=function(t,s,i,e){this._init(t,s,i,e);for(var n=0;n<this._datasetLength;n++)if(1!==this._visited[n]){this._visited[n]=1;var r=this._regionQuery(n);if(r.length<this.minPts)this.noise.push(n);else{var h=this.clusters.length;this.clusters.push([]),this._addToCluster(n,h),this._expandCluster(h,r)}}return this.clusters},r.prototype._init=function(t,s,i,e){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}s&&(this.epsilon=s),i&&(this.minPts=i),e&&(this.distance=e)},r.prototype._expandCluster=function(t,s){for(var i=0;i<s.length;i++){var e=s[i];if(1!==this._visited[e]){this._visited[e]=1;var n=this._regionQuery(e);n.length>=this.minPts&&(s=this._mergeArrays(s,n))}1!==this._assigned[e]&&this._addToCluster(e,t)}},r.prototype._addToCluster=function(t,s){this.clusters[s].push(t),this._assigned[t]=1},r.prototype._regionQuery=function(t){for(var s=[],i=0;i<this._datasetLength;i++){this.distance(this.dataset[t],this.dataset[i])<this.epsilon&&s.push(i)}return s},r.prototype._mergeArrays=function(t,s){for(var i=s.length,e=0;e<i;e++){var n=s[e];t.indexOf(n)<0&&t.push(n)}return t},r.prototype._euclideanDistance=function(t,s){for(var i=0,e=Math.min(t.length,s.length);e--;)i+=(t[e]-s[e])*(t[e]-s[e]);return Math.sqrt(i)},void 0!==i&&i.exports&&(i.exports=r),i.exports}),{})}}}));

System.register("chunks:///_virtual/DiagonalMovement.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var s;return{setters:[function(e){s=e.default}],execute:function(){var n=e("__cjsMetaURL",t.meta.url);s.define(n,(function(e,t,s,n,r){s.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4},s.exports}),{})}}}));

System.register("chunks:///_virtual/DijkstraFinder.js",["./cjs-loader.mjs","./AStarFinder.js"],(function(t,r){"use strict";var e,n;return{setters:[function(t){e=t.default},function(t){n=t.__cjsMetaURL}],execute:function(){var i=t("__cjsMetaURL",r.meta.url);e.define(i,(function(t,r,e,n,i){var s=r("./AStarFinder");function u(t){s.call(this,t),this.heuristic=function(t,r){return 0}}u.prototype=new s,u.prototype.constructor=u,e.exports=u,e.exports}),(function(){return{"./AStarFinder":n}}))}}}));

System.register("chunks:///_virtual/format.js",["./cjs-loader.mjs"],(function(t,n){"use strict";var e;return{setters:[function(t){e=t.default}],execute:function(){var r=t("__cjsMetaURL",n.meta.url);e.define(r,(function(t,n,e,r,o){e.exports={toXy:function(t,n){return void 0===n?t.slice():t.map((function(t){return new Function("pt","return [pt"+n[0]+",pt"+n[1]+"];")(t)}))},fromXy:function(t,n){return void 0===n?t.slice():t.map((function(t){return new Function("pt","const o = {}; o"+n[0]+"= pt[0]; o"+n[1]+"= pt[1]; return o;")(t)}))}},e.exports,e.exports.toXy}),{})}}}));

System.register("chunks:///_virtual/grid.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var l;return{setters:[function(e){l=e.default}],execute:function(){var i=e("__cjsMetaURL",t.meta.url);l.define(i,(function(e,t,l,i,s){function r(e,t){this._cells=[],this._cellSize=t,this._reverseCellSize=1/t;for(var l=0;l<e.length;l++){var i=e[l],s=this.coordToCellNum(i[0]),r=this.coordToCellNum(i[1]);if(this._cells[s])this._cells[s][r]?this._cells[s][r].push(i):this._cells[s][r]=[i];else{var o=[];o[r]=[i],this._cells[s]=o}}}r.prototype={cellPoints:function(e,t){return void 0!==this._cells[e]&&void 0!==this._cells[e][t]?this._cells[e][t]:[]},rangePoints:function(e){for(var t=this.coordToCellNum(e[0]),l=this.coordToCellNum(e[1]),i=this.coordToCellNum(e[2]),s=this.coordToCellNum(e[3]),r=[],o=t;o<=i;o++)for(var c=l;c<=s;c++)for(var n=0;n<this.cellPoints(o,c).length;n++)r.push(this.cellPoints(o,c)[n]);return r},removePoint:function(e){for(var t,l=this.coordToCellNum(e[0]),i=this.coordToCellNum(e[1]),s=this._cells[l][i],r=0;r<s.length;r++)if(s[r][0]===e[0]&&s[r][1]===e[1]){t=r;break}return s.splice(t,1),s},trunc:Math.trunc||function(e){return e-e%1},coordToCellNum:function(e){return this.trunc(e*this._reverseCellSize)},extendBbox:function(e,t){return[e[0]-t*this._cellSize,e[1]-t*this._cellSize,e[2]+t*this._cellSize,e[3]+t*this._cellSize]}},l.exports=function(e,t){return new r(e,t)},l.exports}),{})}}}));

System.register("chunks:///_virtual/Grid2.js",["./cjs-loader.mjs","./Node.js","./DiagonalMovement.js"],(function(t,e){"use strict";var s,i,n;return{setters:[function(t){s=t.default},function(t){i=t.__cjsMetaURL},function(t){n=t.__cjsMetaURL}],execute:function(){var o=t("__cjsMetaURL",e.meta.url);s.define(o,(function(t,e,s,i,n){var o=e("./Node"),r=e("./DiagonalMovement");function a(t,e,s){var i;"object"!=typeof t?i=t:(e=t.length,i=t[0].length,s=t),this.width=i,this.height=e,this.nodes=this._buildNodes(i,e,s)}a.prototype._buildNodes=function(t,e,s){var i,n,r=new Array(e);for(i=0;i<e;++i)for(r[i]=new Array(t),n=0;n<t;++n)r[i][n]=new o(n,i);if(void 0===s)return r;if(s.length!==e||s[0].length!==t)throw new Error("Matrix size does not fit");for(i=0;i<e;++i)for(n=0;n<t;++n)s[i][n]&&(r[i][n].walkable=!1);return r},a.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},a.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},a.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},a.prototype.setWalkableAt=function(t,e,s){this.nodes[e][t].walkable=s},a.prototype.getNeighbors=function(t,e){var s=t.x,i=t.y,n=[],o=!1,a=!1,l=!1,h=!1,u=!1,f=!1,c=!1,d=!1,p=this.nodes;if(this.isWalkableAt(s,i-1)&&(n.push(p[i-1][s]),o=!0),this.isWalkableAt(s+1,i)&&(n.push(p[i][s+1]),l=!0),this.isWalkableAt(s,i+1)&&(n.push(p[i+1][s]),u=!0),this.isWalkableAt(s-1,i)&&(n.push(p[i][s-1]),c=!0),e===r.Never)return n;if(e===r.OnlyWhenNoObstacles)a=c&&o,h=o&&l,f=l&&u,d=u&&c;else if(e===r.IfAtMostOneObstacle)a=c||o,h=o||l,f=l||u,d=u||c;else{if(e!==r.Always)throw new Error("Incorrect value of diagonalMovement");a=!0,h=!0,f=!0,d=!0}return a&&this.isWalkableAt(s-1,i-1)&&n.push(p[i-1][s-1]),h&&this.isWalkableAt(s+1,i-1)&&n.push(p[i-1][s+1]),f&&this.isWalkableAt(s+1,i+1)&&n.push(p[i+1][s+1]),d&&this.isWalkableAt(s-1,i+1)&&n.push(p[i+1][s-1]),n},a.prototype.clone=function(){var t,e,s=this.width,i=this.height,n=this.nodes,r=new a(s,i),l=new Array(i);for(t=0;t<i;++t)for(l[t]=new Array(s),e=0;e<s;++e)l[t][e]=new o(e,t,n[t][e].walkable);return r.nodes=l,r},s.exports=a,s.exports}),(function(){return{"./Node":i,"./DiagonalMovement":n}}))}}}));

System.register("chunks:///_virtual/heap.js",["./cjs-loader.mjs"],(function(t,n){"use strict";var e;return{setters:[function(t){e=t.default}],execute:function(){var r=t("__cjsMetaURL",n.meta.url);e.define(r,(function(t,n,e,r,o){(function(){var t,n,r,o,u,p,i,s,l,c,h,f,a,y,d;r=Math.floor,c=Math.min,n=function(t,n){return t<n?-1:t>n?1:0},l=function(t,e,o,u,p){var i;if(null==o&&(o=0),null==p&&(p=n),o<0)throw new Error("lo must be non-negative");for(null==u&&(u=t.length);o<u;)p(e,t[i=r((o+u)/2)])<0?u=i:o=i+1;return[].splice.apply(t,[o,o-o].concat(e)),e},p=function(t,e,r){return null==r&&(r=n),t.push(e),y(t,0,t.length-1,r)},u=function(t,e){var r,o;return null==e&&(e=n),r=t.pop(),t.length?(o=t[0],t[0]=r,d(t,0,e)):o=r,o},s=function(t,e,r){var o;return null==r&&(r=n),o=t[0],t[0]=e,d(t,0,r),o},i=function(t,e,r){var o;return null==r&&(r=n),t.length&&r(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],d(t,0,r)),e},o=function(t,e){var o,u,p,i,s,l;for(null==e&&(e=n),s=[],u=0,p=(i=function(){l=[];for(var n=0,e=r(t.length/2);0<=e?n<e:n>e;0<=e?n++:n--)l.push(n);return l}.apply(this).reverse()).length;u<p;u++)o=i[u],s.push(d(t,o,e));return s},a=function(t,e,r){var o;if(null==r&&(r=n),-1!==(o=t.indexOf(e)))return y(t,0,o,r),d(t,o,r)},h=function(t,e,r){var u,p,s,l,c;if(null==r&&(r=n),!(p=t.slice(0,e)).length)return p;for(o(p,r),s=0,l=(c=t.slice(e)).length;s<l;s++)u=c[s],i(p,u,r);return p.sort(r).reverse()},f=function(t,e,r){var p,i,s,h,f,a,y,d,g;if(null==r&&(r=n),10*e<=t.length){if(!(s=t.slice(0,e).sort(r)).length)return s;for(i=s[s.length-1],h=0,a=(y=t.slice(e)).length;h<a;h++)r(p=y[h],i)<0&&(l(s,p,0,null,r),s.pop(),i=s[s.length-1]);return s}for(o(t,r),g=[],f=0,d=c(e,t.length);0<=d?f<d:f>d;0<=d?++f:--f)g.push(u(t,r));return g},y=function(t,e,r,o){var u,p,i;for(null==o&&(o=n),u=t[r];r>e&&o(u,p=t[i=r-1>>1])<0;)t[r]=p,r=i;return t[r]=u},d=function(t,e,r){var o,u,p,i,s;for(null==r&&(r=n),u=t.length,s=e,p=t[e],o=2*e+1;o<u;)(i=o+1)<u&&!(r(t[o],t[i])<0)&&(o=i),t[e]=t[o],o=2*(e=o)+1;return t[e]=p,y(t,s,e,r)},t=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=p,t.pop=u,t.replace=s,t.pushpop=i,t.heapify=o,t.updateItem=a,t.nlargest=h,t.nsmallest=f,t.prototype.push=function(t){return p(this.nodes,t,this.cmp)},t.prototype.pop=function(){return u(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return i(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return a(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var n;return(n=new t).nodes=this.nodes.slice(0),n},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),(null!=e?e.exports:void 0)?e.exports=t:window.Heap=t}).call(this),e.exports}),{})}}}));

System.register("chunks:///_virtual/Heuristic.js",["./cjs-loader.mjs"],(function(t,e){"use strict";var n;return{setters:[function(t){n=t.default}],execute:function(){var r=t("__cjsMetaURL",e.meta.url);n.define(r,(function(t,e,n,r,u){n.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var n=Math.SQRT2-1;return t<e?n*t+e:n*e+t},chebyshev:function(t,e){return Math.max(t,e)}},n.exports,n.exports.manhattan}),{})}}}));

System.register("chunks:///_virtual/hull.js",["./cjs-loader.mjs","./intersect.js","./grid.js","./format.js","./convex.js"],(function(t,n){"use strict";var r,e,o,u,a;return{setters:[function(t){r=t.default},function(t){e=t.__cjsMetaURL},function(t){o=t.__cjsMetaURL},function(t){u=t.__cjsMetaURL},function(t){a=t.__cjsMetaURL}],execute:function(){t("default",void 0);var i=t("__cjsMetaURL",n.meta.url);r.define(i,(function(n,r,e,o,u){var a=r("./intersect.js"),i=r("./grid.js"),c=r("./format.js"),f=r("./convex.js");function s(t,n){return Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)}function v(t,n,r){var e=[n[0]-t[0],n[1]-t[1]],o=[r[0]-t[0],r[1]-t[1]],u=s(t,n),a=s(t,r);return(e[0]*o[0]+e[1]*o[1])/Math.sqrt(u*a)}function l(t,n){for(var r=0;r<n.length-1;r++){var e=[n[r],n[r+1]];if(!(t[0][0]===e[0][0]&&t[0][1]===e[0][1]||t[0][0]===e[1][0]&&t[0][1]===e[1][1])&&a(t,e))return!0}return!1}function h(t){return[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}function j(t,n,r){for(var e,o,u=null,a=M,i=M,c=0;c<n.length;c++)e=v(t[0],t[1],n[c]),o=v(t[1],t[0],n[c]),e>a&&o>i&&!l([t[0],n[c]],r)&&!l([t[1],n[c]],r)&&(a=e,i=o,u=n[c]);return u}function d(t,n,r,e,o){for(var u=!1,a=0;a<t.length-1;a++){var i=[t[a],t[a+1]],c=i[0][0]+","+i[0][1]+","+i[1][0]+","+i[1][1];if(!(s(i[0],i[1])<n||o.has(c))){var f=0,v=h(i),l=void 0,M=void 0,m=void 0;do{l=(v=e.extendBbox(v,f))[2]-v[0],M=v[3]-v[1],m=j(i,e.rangePoints(v),t),f++}while(null===m&&(r[0]>l||r[1]>M));l>=r[0]&&M>=r[1]&&o.add(c),null!==m&&(t.splice(a+1,0,m),e.removePoint(m),u=!0)}}return u?d(t,n,r,e,o):t}var M=Math.cos(90/(180/Math.PI)),m=.6;e.exports=function(t,n,r){var e=n||20,o=function(t){for(var n=[t[0]],r=t[0],e=1;e<t.length;e++){var o=t[e];r[0]===o[0]&&r[1]===o[1]||n.push(o),r=o}return n}(function(t){return t.sort((function(t,n){return t[0]-n[0]||t[1]-n[1]}))}(c.toXy(t,r)));if(o.length<4){var u=o.concat([o[0]]);return r?c.fromXy(u,r):u}var a=function(t){for(var n=1/0,r=1/0,e=-1/0,o=-1/0,u=t.length-1;u>=0;u--)t[u][0]<n&&(n=t[u][0]),t[u][1]<r&&(r=t[u][1]),t[u][0]>e&&(e=t[u][0]),t[u][1]>o&&(o=t[u][1]);return[e-n,o-r]}(o),s=[a[0]*m,a[1]*m],v=f(o),l=o.filter((function(t){return v.indexOf(t)<0})),h=Math.ceil(1/(o.length/(a[0]*a[1]))),j=d(v,Math.pow(e,2),s,i(l,h),new Set);return r?c.fromXy(j,r):j},t("default",e.exports)}),(function(){return{"./intersect.js":e,"./grid.js":o,"./format.js":u,"./convex.js":a}}))}}}));

System.register("chunks:///_virtual/hull.mjs_cjs=&original=.js",["./hull.js","./cjs-loader.mjs"],(function(e,t){"use strict";var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./hull.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/IDAStarFinder.js",["./cjs-loader.mjs","./Util.js","./Heuristic.js","./Node.js","./DiagonalMovement.js"],(function(t,e){"use strict";var i,n,o,r,s;return{setters:[function(t){i=t.default},function(t){n=t.__cjsMetaURL},function(t){o=t.__cjsMetaURL},function(t){r=t.__cjsMetaURL},function(t){s=t.__cjsMetaURL}],execute:function(){var a=t("__cjsMetaURL",e.meta.url);i.define(a,(function(t,e,i,n,o){e("../core/Util");var r=e("../core/Heuristic"),s=e("../core/Node"),a=e("../core/DiagonalMovement");function c(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=a.OnlyWhenNoObstacles:this.diagonalMovement=a.IfAtMostOneObstacle:this.diagonalMovement=a.Never),this.diagonalMovement===a.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}c.prototype.findPath=function(t,e,i,n,o){var r,a,c,u=(new Date).getTime(),h=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),l=function(t,e,i,n,r){if(this.timeLimit>0&&(new Date).getTime()-u>1e3*this.timeLimit)return 1/0;var a,c,f,m,g=e+h(t,d)*this.weight;if(g>i)return g;if(t==d)return n[r]=[t.x,t.y],t;var v,M,j=o.getNeighbors(t,this.diagonalMovement);for(f=0,a=1/0;m=j[f];++f){if(this.trackRecursion&&(m.retainCount=m.retainCount+1||1,!0!==m.tested&&(m.tested=!0)),(c=l(m,e+(M=m,(v=t).x===M.x||v.y===M.y?1:Math.SQRT2),i,n,r+1))instanceof s)return n[r]=[t.x,t.y],c;this.trackRecursion&&0==--m.retainCount&&(m.tested=!1),c<a&&(a=c)}return a}.bind(this),f=o.getNodeAt(t,e),d=o.getNodeAt(i,n),m=h(f,d);for(r=0;;++r){if((c=l(f,0,m,a=[],0))===1/0)return[];if(c instanceof s)return a;m=c}return[]},i.exports=c,i.exports}),(function(){return{"../core/Util":n,"../core/Heuristic":o,"../core/Node":r,"../core/DiagonalMovement":s}}))}}}));

System.register("chunks:///_virtual/index.js",["./cjs-loader.mjs","./PathFinding.js"],(function(t,e){"use strict";var n,i;return{setters:[function(t){n=t.default},function(t){i=t.__cjsMetaURL}],execute:function(){t("default",void 0);var r=t("__cjsMetaURL",e.meta.url);n.define(r,(function(e,n,i,r,s){i.exports=n("./src/PathFinding"),t("default",i.exports)}),(function(){return{"./src/PathFinding":i}}))}}}));

System.register("chunks:///_virtual/index.mjs_cjs=&original=.js",["./index.js","./cjs-loader.mjs"],(function(e,t){"use strict";var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./index.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/index.mjs_cjs=&original=2.js",["./index2.js","./cjs-loader.mjs"],(function(e,t){"use strict";var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./index.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/index2.js",["./cjs-loader.mjs","./DBSCAN.js","./KMEANS.js","./OPTICS.js","./PriorityQueue.js"],(function(e,t){"use strict";var s,u,r,i,n;return{setters:[function(e){s=e.default},function(e){u=e.__cjsMetaURL},function(e){r=e.__cjsMetaURL},function(e){i=e.__cjsMetaURL},function(e){n=e.__cjsMetaURL}],execute:function(){e("default",void 0);var j=e("__cjsMetaURL",t.meta.url);s.define(j,(function(t,s,u,r,i){void 0!==u&&u.exports&&(u.exports={DBSCAN:s("./DBSCAN.js"),KMEANS:s("./KMEANS.js"),OPTICS:s("./OPTICS.js"),PriorityQueue:s("./PriorityQueue.js")}),e("default",u.exports),u.exports.DBSCAN}),(function(){return{"./DBSCAN.js":u,"./KMEANS.js":r,"./OPTICS.js":i,"./PriorityQueue.js":n}}))}}}));

System.register("chunks:///_virtual/index3.js",["./cjs-loader.mjs","./heap.js"],(function(e,t){"use strict";var n,r;return{setters:[function(e){n=e.default},function(e){r=e.__cjsMetaURL}],execute:function(){var s=e("__cjsMetaURL",t.meta.url);n.define(s,(function(e,t,n,r,s){n.exports=t("./lib/heap"),n.exports}),(function(){return{"./lib/heap":r}}))}}}));

System.register("chunks:///_virtual/intersect.js",["./cjs-loader.mjs"],(function(t,e){"use strict";var r;return{setters:[function(t){r=t.default}],execute:function(){var n=t("__cjsMetaURL",e.meta.url);r.define(n,(function(t,e,r,n,u){function s(t,e,r,n,u,s){var c=(s-e)*(r-t)-(n-e)*(u-t);return c>0||!(c<0)}r.exports=function(t,e){var r=t[0][0],n=t[0][1],u=t[1][0],c=t[1][1],i=e[0][0],a=e[0][1],o=e[1][0],f=e[1][1];return s(r,n,i,a,o,f)!==s(u,c,i,a,o,f)&&s(r,n,u,c,i,a)!==s(r,n,u,c,o,f)},r.exports}),{})}}}));

System.register("chunks:///_virtual/JPFAlwaysMoveDiagonally.js",["./cjs-loader.mjs","./JumpPointFinderBase.js","./DiagonalMovement.js"],(function(t,e){"use strict";var a,s,i;return{setters:[function(t){a=t.default},function(t){s=t.__cjsMetaURL},function(t){i=t.__cjsMetaURL}],execute:function(){var l=t("__cjsMetaURL",e.meta.url);a.define(l,(function(t,e,a,s,i){var l=e("./JumpPointFinderBase"),n=e("../core/DiagonalMovement");function r(t){l.call(this,t)}r.prototype=new l,r.prototype.constructor=r,r.prototype._jump=function(t,e,a,s){var i=this.grid,l=t-a,n=e-s;if(!i.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(i.getNodeAt(t,e).tested=!0),i.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==l&&0!==n){if(i.isWalkableAt(t-l,e+n)&&!i.isWalkableAt(t-l,e)||i.isWalkableAt(t+l,e-n)&&!i.isWalkableAt(t,e-n))return[t,e];if(this._jump(t+l,e,t,e)||this._jump(t,e+n,t,e))return[t,e]}else if(0!==l){if(i.isWalkableAt(t+l,e+1)&&!i.isWalkableAt(t,e+1)||i.isWalkableAt(t+l,e-1)&&!i.isWalkableAt(t,e-1))return[t,e]}else if(i.isWalkableAt(t+1,e+n)&&!i.isWalkableAt(t+1,e)||i.isWalkableAt(t-1,e+n)&&!i.isWalkableAt(t-1,e))return[t,e];return this._jump(t+l,e+n,t,e)},r.prototype._findNeighbors=function(t){var e,a,s,i,l,r,u,o,p=t.parent,b=t.x,h=t.y,A=this.grid,k=[];if(p)e=p.x,a=p.y,s=(b-e)/Math.max(Math.abs(b-e),1),i=(h-a)/Math.max(Math.abs(h-a),1),0!==s&&0!==i?(A.isWalkableAt(b,h+i)&&k.push([b,h+i]),A.isWalkableAt(b+s,h)&&k.push([b+s,h]),A.isWalkableAt(b+s,h+i)&&k.push([b+s,h+i]),A.isWalkableAt(b-s,h)||k.push([b-s,h+i]),A.isWalkableAt(b,h-i)||k.push([b+s,h-i])):0===s?(A.isWalkableAt(b,h+i)&&k.push([b,h+i]),A.isWalkableAt(b+1,h)||k.push([b+1,h+i]),A.isWalkableAt(b-1,h)||k.push([b-1,h+i])):(A.isWalkableAt(b+s,h)&&k.push([b+s,h]),A.isWalkableAt(b,h+1)||k.push([b+s,h+1]),A.isWalkableAt(b,h-1)||k.push([b+s,h-1]));else for(u=0,o=(l=A.getNeighbors(t,n.Always)).length;u<o;++u)r=l[u],k.push([r.x,r.y]);return k},a.exports=r,a.exports}),(function(){return{"./JumpPointFinderBase":s,"../core/DiagonalMovement":i}}))}}}));

System.register("chunks:///_virtual/JPFMoveDiagonallyIfAtMostOneObstacle.js",["./cjs-loader.mjs","./JumpPointFinderBase.js","./DiagonalMovement.js"],(function(t,e){"use strict";var a,s,l;return{setters:[function(t){a=t.default},function(t){s=t.__cjsMetaURL},function(t){l=t.__cjsMetaURL}],execute:function(){var i=t("__cjsMetaURL",e.meta.url);a.define(i,(function(t,e,a,s,l){var i=e("./JumpPointFinderBase"),n=e("../core/DiagonalMovement");function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,a,s){var l=this.grid,i=t-a,n=e-s;if(!l.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(l.getNodeAt(t,e).tested=!0),l.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==i&&0!==n){if(l.isWalkableAt(t-i,e+n)&&!l.isWalkableAt(t-i,e)||l.isWalkableAt(t+i,e-n)&&!l.isWalkableAt(t,e-n))return[t,e];if(this._jump(t+i,e,t,e)||this._jump(t,e+n,t,e))return[t,e]}else if(0!==i){if(l.isWalkableAt(t+i,e+1)&&!l.isWalkableAt(t,e+1)||l.isWalkableAt(t+i,e-1)&&!l.isWalkableAt(t,e-1))return[t,e]}else if(l.isWalkableAt(t+1,e+n)&&!l.isWalkableAt(t+1,e)||l.isWalkableAt(t-1,e+n)&&!l.isWalkableAt(t-1,e))return[t,e];return l.isWalkableAt(t+i,e)||l.isWalkableAt(t,e+n)?this._jump(t+i,e+n,t,e):null},r.prototype._findNeighbors=function(t){var e,a,s,l,i,r,u,o,b=t.parent,A=t.x,k=t.y,p=this.grid,W=[];if(b)e=b.x,a=b.y,s=(A-e)/Math.max(Math.abs(A-e),1),l=(k-a)/Math.max(Math.abs(k-a),1),0!==s&&0!==l?(p.isWalkableAt(A,k+l)&&W.push([A,k+l]),p.isWalkableAt(A+s,k)&&W.push([A+s,k]),(p.isWalkableAt(A,k+l)||p.isWalkableAt(A+s,k))&&W.push([A+s,k+l]),!p.isWalkableAt(A-s,k)&&p.isWalkableAt(A,k+l)&&W.push([A-s,k+l]),!p.isWalkableAt(A,k-l)&&p.isWalkableAt(A+s,k)&&W.push([A+s,k-l])):0===s?p.isWalkableAt(A,k+l)&&(W.push([A,k+l]),p.isWalkableAt(A+1,k)||W.push([A+1,k+l]),p.isWalkableAt(A-1,k)||W.push([A-1,k+l])):p.isWalkableAt(A+s,k)&&(W.push([A+s,k]),p.isWalkableAt(A,k+1)||W.push([A+s,k+1]),p.isWalkableAt(A,k-1)||W.push([A+s,k-1]));else for(u=0,o=(i=p.getNeighbors(t,n.IfAtMostOneObstacle)).length;u<o;++u)r=i[u],W.push([r.x,r.y]);return W},a.exports=r,a.exports}),(function(){return{"./JumpPointFinderBase":s,"../core/DiagonalMovement":l}}))}}}));

System.register("chunks:///_virtual/JPFMoveDiagonallyIfNoObstacles.js",["./cjs-loader.mjs","./JumpPointFinderBase.js","./DiagonalMovement.js"],(function(e,t){"use strict";var a,s,i;return{setters:[function(e){a=e.default},function(e){s=e.__cjsMetaURL},function(e){i=e.__cjsMetaURL}],execute:function(){var l=e("__cjsMetaURL",t.meta.url);a.define(l,(function(e,t,a,s,i){var l=t("./JumpPointFinderBase"),n=t("../core/DiagonalMovement");function r(e){l.call(this,e)}r.prototype=new l,r.prototype.constructor=r,r.prototype._jump=function(e,t,a,s){var i=this.grid,l=e-a,n=t-s;if(!i.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(i.getNodeAt(e,t).tested=!0),i.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==l&&0!==n){if(this._jump(e+l,t,e,t)||this._jump(e,t+n,e,t))return[e,t]}else if(0!==l){if(i.isWalkableAt(e,t-1)&&!i.isWalkableAt(e-l,t-1)||i.isWalkableAt(e,t+1)&&!i.isWalkableAt(e-l,t+1))return[e,t]}else if(0!==n&&(i.isWalkableAt(e-1,t)&&!i.isWalkableAt(e-1,t-n)||i.isWalkableAt(e+1,t)&&!i.isWalkableAt(e+1,t-n)))return[e,t];return i.isWalkableAt(e+l,t)&&i.isWalkableAt(e,t+n)?this._jump(e+l,t+n,e,t):null},r.prototype._findNeighbors=function(e){var t,a,s,i,l,r,u,o,p,h=e.parent,b=e.x,c=e.y,f=this.grid,k=[];if(h){if(t=h.x,a=h.y,s=(b-t)/Math.max(Math.abs(b-t),1),i=(c-a)/Math.max(Math.abs(c-a),1),0!==s&&0!==i)f.isWalkableAt(b,c+i)&&k.push([b,c+i]),f.isWalkableAt(b+s,c)&&k.push([b+s,c]),f.isWalkableAt(b,c+i)&&f.isWalkableAt(b+s,c)&&k.push([b+s,c+i]);else if(0!==s){p=f.isWalkableAt(b+s,c);var A=f.isWalkableAt(b,c+1),W=f.isWalkableAt(b,c-1);p&&(k.push([b+s,c]),A&&k.push([b+s,c+1]),W&&k.push([b+s,c-1])),A&&k.push([b,c+1]),W&&k.push([b,c-1])}else if(0!==i){p=f.isWalkableAt(b,c+i);var m=f.isWalkableAt(b+1,c),d=f.isWalkableAt(b-1,c);p&&(k.push([b,c+i]),m&&k.push([b+1,c+i]),d&&k.push([b-1,c+i])),m&&k.push([b+1,c]),d&&k.push([b-1,c])}}else for(u=0,o=(l=f.getNeighbors(e,n.OnlyWhenNoObstacles)).length;u<o;++u)r=l[u],k.push([r.x,r.y]);return k},a.exports=r,a.exports}),(function(){return{"./JumpPointFinderBase":s,"../core/DiagonalMovement":i}}))}}}));

System.register("chunks:///_virtual/JPFNeverMoveDiagonally.js",["./cjs-loader.mjs","./JumpPointFinderBase.js","./DiagonalMovement.js"],(function(e,t){"use strict";var a,i,r;return{setters:[function(e){a=e.default},function(e){i=e.__cjsMetaURL},function(e){r=e.__cjsMetaURL}],execute:function(){var s=e("__cjsMetaURL",t.meta.url);a.define(s,(function(e,t,a,i,r){var s=t("./JumpPointFinderBase"),n=t("../core/DiagonalMovement");function l(e){s.call(this,e)}l.prototype=new s,l.prototype.constructor=l,l.prototype._jump=function(e,t,a,i){var r=this.grid,s=e-a,n=t-i;if(!r.isWalkableAt(e,t))return null;if(!0===this.trackJumpRecursion&&(r.getNodeAt(e,t).tested=!0),r.getNodeAt(e,t)===this.endNode)return[e,t];if(0!==s){if(r.isWalkableAt(e,t-1)&&!r.isWalkableAt(e-s,t-1)||r.isWalkableAt(e,t+1)&&!r.isWalkableAt(e-s,t+1))return[e,t]}else{if(0===n)throw new Error("Only horizontal and vertical movements are allowed");if(r.isWalkableAt(e-1,t)&&!r.isWalkableAt(e-1,t-n)||r.isWalkableAt(e+1,t)&&!r.isWalkableAt(e+1,t-n))return[e,t];if(this._jump(e+1,t,e,t)||this._jump(e-1,t,e,t))return[e,t]}return this._jump(e+s,t+n,e,t)},l.prototype._findNeighbors=function(e){var t,a,i,r,s,l,o,u,p=e.parent,c=e.x,h=e.y,f=this.grid,b=[];if(p)t=p.x,a=p.y,i=(c-t)/Math.max(Math.abs(c-t),1),r=(h-a)/Math.max(Math.abs(h-a),1),0!==i?(f.isWalkableAt(c,h-1)&&b.push([c,h-1]),f.isWalkableAt(c,h+1)&&b.push([c,h+1]),f.isWalkableAt(c+i,h)&&b.push([c+i,h])):0!==r&&(f.isWalkableAt(c-1,h)&&b.push([c-1,h]),f.isWalkableAt(c+1,h)&&b.push([c+1,h]),f.isWalkableAt(c,h+r)&&b.push([c,h+r]));else for(o=0,u=(s=f.getNeighbors(e,n.Never)).length;o<u;++o)l=s[o],b.push([l.x,l.y]);return b},a.exports=l,a.exports}),(function(){return{"./JumpPointFinderBase":i,"../core/DiagonalMovement":r}}))}}}));

System.register("chunks:///_virtual/JumpPointFinder.js",["./cjs-loader.mjs","./DiagonalMovement.js","./JPFNeverMoveDiagonally.js","./JPFAlwaysMoveDiagonally.js","./JPFMoveDiagonallyIfNoObstacles.js","./JPFMoveDiagonallyIfAtMostOneObstacle.js"],(function(e,n){"use strict";var a,o,t,l,s,i;return{setters:[function(e){a=e.default},function(e){o=e.__cjsMetaURL},function(e){t=e.__cjsMetaURL},function(e){l=e.__cjsMetaURL},function(e){s=e.__cjsMetaURL},function(e){i=e.__cjsMetaURL}],execute:function(){var c=e("__cjsMetaURL",n.meta.url);a.define(c,(function(e,n,a,o,t){var l=n("../core/DiagonalMovement"),s=n("./JPFNeverMoveDiagonally"),i=n("./JPFAlwaysMoveDiagonally"),c=n("./JPFMoveDiagonallyIfNoObstacles"),M=n("./JPFMoveDiagonallyIfAtMostOneObstacle");a.exports=function(e){return(e=e||{}).diagonalMovement===l.Never?new s(e):e.diagonalMovement===l.Always?new i(e):e.diagonalMovement===l.OnlyWhenNoObstacles?new c(e):new M(e)},a.exports}),(function(){return{"../core/DiagonalMovement":o,"./JPFNeverMoveDiagonally":t,"./JPFAlwaysMoveDiagonally":l,"./JPFMoveDiagonallyIfNoObstacles":s,"./JPFMoveDiagonallyIfAtMostOneObstacle":i}}))}}}));

System.register("chunks:///_virtual/JumpPointFinderBase.js",["./cjs-loader.mjs","./index3.js","./Util.js","./Heuristic.js","./DiagonalMovement.js"],(function(e,t){"use strict";var i,n,s,o,r;return{setters:[function(e){i=e.default},function(e){n=e.__cjsMetaURL},function(e){s=e.__cjsMetaURL},function(e){o=e.__cjsMetaURL},function(e){r=e.__cjsMetaURL}],execute:function(){var c=e("__cjsMetaURL",t.meta.url);i.define(c,(function(e,t,i,n,s){var o=t("heap"),r=t("../core/Util"),c=t("../core/Heuristic");t("../core/DiagonalMovement");function u(e){e=e||{},this.heuristic=e.heuristic||c.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}u.prototype.findPath=function(e,t,i,n,s){var c,u=this.openList=new o((function(e,t){return e.f-t.f})),a=this.startNode=s.getNodeAt(e,t),h=this.endNode=s.getNodeAt(i,n);for(this.grid=s,a.g=0,a.f=0,u.push(a),a.opened=!0;!u.empty();){if((c=u.pop()).closed=!0,c===h)return r.expandPath(r.backtrace(h));this._identifySuccessors(c)}return[]},u.prototype._identifySuccessors=function(e){var t,i,n,s,o,r,u,a,h,d,f=this.grid,p=this.heuristic,g=this.openList,_=this.endNode.x,l=this.endNode.y,j=e.x,m=e.y,v=Math.abs;for(s=0,o=(t=this._findNeighbors(e)).length;s<o;++s)if(i=t[s],n=this._jump(i[0],i[1],j,m)){if(r=n[0],u=n[1],(d=f.getNodeAt(r,u)).closed)continue;a=c.octile(v(r-j),v(u-m)),h=e.g+a,(!d.opened||h<d.g)&&(d.g=h,d.h=d.h||p(v(r-_),v(u-l)),d.f=d.g+d.h,d.parent=e,d.opened?g.updateItem(d):(g.push(d),d.opened=!0))}},i.exports=u,i.exports}),(function(){return{heap:n,"../core/Util":s,"../core/Heuristic":o,"../core/DiagonalMovement":r}}))}}}));

System.register("chunks:///_virtual/KMEANS.js",["./cjs-loader.mjs"],(function(t,s){"use strict";var i;return{setters:[function(t){i=t.default}],execute:function(){var n=t("__cjsMetaURL",s.meta.url);i.define(n,(function(t,s,i,n,r){function e(t,s,i){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,s,i)}e.prototype.init=function(t,s,i){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==s&&(this.k=s),void 0!==i&&(this.distance=i)},e.prototype.run=function(t,s){this.init(t,s);for(var i=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var e=0;e<this.k;e++){for(var o=new Array(u),a=0,h=0;h<u;h++)o[h]=0;for(var d=0;d<i;d++){var u=this.dataset[d].length;if(e===this.assignments[d]){for(h=0;h<u;h++)o[h]+=this.dataset[d][h];a++}}if(a>0){for(h=0;h<u;h++)o[h]/=a;this.centroids[e]=o}else this.centroids[e]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,s,i=this.dataset.length-1;do{s=Math.round(Math.random()*i),t=this.dataset[s]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,s=!1,i=this.dataset.length,n=0;n<i;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,s=!0);return s},e.prototype.getClusters=function(){for(var t,s=new Array(this.k),i=0;i<this.assignments.length;i++)void 0===s[t=this.assignments[i]]&&(s[t]=[]),s[t].push(i);return s},e.prototype.argmin=function(t,s,i){for(var n,r=Number.MAX_VALUE,e=0,o=s.length,a=0;a<o;a++)(n=i(t,s[a]))<r&&(r=n,e=a);return e},e.prototype.distance=function(t,s){for(var i=0,n=Math.min(t.length,s.length);n--;){var r=t[n]-s[n];i+=r*r}return Math.sqrt(i)},void 0!==i&&i.exports&&(i.exports=e),i.exports}),{})}}}));

System.register("chunks:///_virtual/Node.js",["./cjs-loader.mjs"],(function(t,e){"use strict";var s;return{setters:[function(t){s=t.default}],execute:function(){var i=t("__cjsMetaURL",e.meta.url);s.define(i,(function(t,e,s,i,n){s.exports=function(t,e,s){this.x=t,this.y=e,this.walkable=void 0===s||s},s.exports}),{})}}}));

System.register("chunks:///_virtual/OPTICS.js",["./cjs-loader.mjs","./PriorityQueue.js"],(function(t,e){"use strict";var i,s;return{setters:[function(t){i=t.default},function(t){s=t.__cjsMetaURL}],execute:function(){var r=t("__cjsMetaURL",e.meta.url);i.define(r,(function(t,e,i,s,r){if(void 0!==i&&i.exports)var n=e("./PriorityQueue.js");function o(t,e,i,s){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,i,s)}o.prototype.run=function(t,e,i,s){this._init(t,e,i,s);for(var r=0,o=this.dataset.length;r<o;r++)if(1!==this._processed[r]){this._processed[r]=1,this.clusters.push([r]);var a=this.clusters.length-1;this._orderedList.push(r);var h=new n(null,null,"asc"),u=this._regionQuery(r);void 0!==this._distanceToCore(r)&&(this._updateQueue(r,u,h),this._expandCluster(a,h))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var t=[],e=0,i=this._orderedList.length;e<i;e++){var s=this._orderedList[e],r=this._reachability[s];t.push([s,r])}return t},o.prototype._init=function(t,e,i,s){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),i&&(this.minPts=i),s&&(this.distance=s)},o.prototype._updateQueue=function(t,e,i){var s=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===s._processed[e]){var r=s.distance(s.dataset[t],s.dataset[e]),n=Math.max(s._coreDistance,r);void 0===s._reachability[e]?(s._reachability[e]=n,i.insert(e,n)):n<s._reachability[e]&&(s._reachability[e]=n,i.remove(e),i.insert(e,n))}}))},o.prototype._expandCluster=function(t,e){for(var i=e.getElements(),s=0,r=i.length;s<r;s++){var n=i[s];if(void 0===this._processed[n]){var o=this._regionQuery(n);this._processed[n]=1,this.clusters[t].push(n),this._orderedList.push(n),void 0!==this._distanceToCore(n)&&(this._updateQueue(n,o,e),this._expandCluster(t,e))}}},o.prototype._distanceToCore=function(t){for(var e=this.epsilon,i=0;i<e;i++){if(this._regionQuery(t,i).length>=this.minPts)return i}},o.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var i=[],s=0,r=this.dataset.length;s<r;s++)this.distance(this.dataset[t],this.dataset[s])<e&&i.push(s);return i},o.prototype._euclideanDistance=function(t,e){for(var i=0,s=Math.min(t.length,e.length);s--;)i+=(t[s]-e[s])*(t[s]-e[s]);return Math.sqrt(i)},void 0!==i&&i.exports&&(i.exports=o),i.exports}),(function(){return{"./PriorityQueue.js":s}}))}}}));

System.register("chunks:///_virtual/PathFinding.js",["./cjs-loader.mjs","./index3.js","./Node.js","./Grid2.js","./Util.js","./DiagonalMovement.js","./Heuristic.js","./AStarFinder.js","./BestFirstFinder.js","./BreadthFirstFinder.js","./DijkstraFinder.js","./BiAStarFinder.js","./BiBestFirstFinder.js","./BiBreadthFirstFinder.js","./BiDijkstraFinder.js","./IDAStarFinder.js","./JumpPointFinder.js"],(function(i,e){"use strict";var r,t,n,s,d,a,F,c,o,j,f,u,_,B,M,U,L;return{setters:[function(i){r=i.default},function(i){t=i.__cjsMetaURL},function(i){n=i.__cjsMetaURL},function(i){s=i.__cjsMetaURL},function(i){d=i.__cjsMetaURL},function(i){a=i.__cjsMetaURL},function(i){F=i.__cjsMetaURL},function(i){c=i.__cjsMetaURL},function(i){o=i.__cjsMetaURL},function(i){j=i.__cjsMetaURL},function(i){f=i.__cjsMetaURL},function(i){u=i.__cjsMetaURL},function(i){_=i.__cjsMetaURL},function(i){B=i.__cjsMetaURL},function(i){M=i.__cjsMetaURL},function(i){U=i.__cjsMetaURL},function(i){L=i.__cjsMetaURL}],execute:function(){var R=i("__cjsMetaURL",e.meta.url);r.define(R,(function(i,e,r,t,n){r.exports={Heap:e("heap"),Node:e("./core/Node"),Grid:e("./core/Grid"),Util:e("./core/Util"),DiagonalMovement:e("./core/DiagonalMovement"),Heuristic:e("./core/Heuristic"),AStarFinder:e("./finders/AStarFinder"),BestFirstFinder:e("./finders/BestFirstFinder"),BreadthFirstFinder:e("./finders/BreadthFirstFinder"),DijkstraFinder:e("./finders/DijkstraFinder"),BiAStarFinder:e("./finders/BiAStarFinder"),BiBestFirstFinder:e("./finders/BiBestFirstFinder"),BiBreadthFirstFinder:e("./finders/BiBreadthFirstFinder"),BiDijkstraFinder:e("./finders/BiDijkstraFinder"),IDAStarFinder:e("./finders/IDAStarFinder"),JumpPointFinder:e("./finders/JumpPointFinder")},r.exports,r.exports.Heap}),(function(){return{heap:t,"./core/Node":n,"./core/Grid":s,"./core/Util":d,"./core/DiagonalMovement":a,"./core/Heuristic":F,"./finders/AStarFinder":c,"./finders/BestFirstFinder":o,"./finders/BreadthFirstFinder":j,"./finders/DijkstraFinder":f,"./finders/BiAStarFinder":u,"./finders/BiBestFirstFinder":_,"./finders/BiBreadthFirstFinder":B,"./finders/BiDijkstraFinder":M,"./finders/IDAStarFinder":U,"./finders/JumpPointFinder":L}}))}}}));

System.register("chunks:///_virtual/PriorityQueue.js",["./cjs-loader.mjs"],(function(t,e){"use strict";var i;return{setters:[function(t){i=t.default}],execute:function(){var r=t("__cjsMetaURL",e.meta.url);i.define(r,(function(t,e,i,r,s){function o(t,e,i){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,i)}o.prototype.insert=function(t,e){for(var i=this._queue.length,r=i;r--;){var s=this._priorities[r];"desc"===this._sorting?e>s&&(i=r):e<s&&(i=r)}this._insertAt(t,e,i)},o.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},o.prototype.forEach=function(t){this._queue.forEach(t)},o.prototype.getElements=function(){return this._queue},o.prototype.getElementPriority=function(t){return this._priorities[t]},o.prototype.getPriorities=function(){return this._priorities},o.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,i=this._queue.length;e<i;e++)t.push([this._queue[e],this._priorities[e]]);return t},o.prototype._init=function(t,e,i){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}i&&(this._sorting=i)},o.prototype._insertAt=function(t,e,i){this._queue.length===i?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(i,0,t),this._priorities.splice(i,0,e))},void 0!==i&&i.exports&&(i.exports=o),i.exports}),{})}}}));

System.register("chunks:///_virtual/rollupPluginModLoBabelHelpers.js",[],(function(e){"use strict";return{execute:function(){function r(t,i){return(r=e("setPrototypeOf",Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e}))(t,i)}function t(e,r){if(e){if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}e({applyDecoratedDescriptor:function(e,r,t,i,n){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0);o=t.slice().reverse().reduce((function(t,i){return i(e,r,t)||t}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0);void 0===o.initializer&&(Object.defineProperty(e,r,o),o=null);return o},arrayLikeToArray:i,assertThisInitialized:function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},createForOfIteratorHelperLoose:function(e,r){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=t(e))||r&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},inheritsLoose:function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},initializerDefineProperty:function(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})},setPrototypeOf:r,unsupportedIterableToArray:t})}}}));

System.register("chunks:///_virtual/Util.js",["./cjs-loader.mjs"],(function(t,r){"use strict";var e;return{setters:[function(t){e=t.default}],execute:function(){var a=t("__cjsMetaURL",r.meta.url);e.define(a,(function(t,r,e,a,n){function o(t){for(var r=[[t.x,t.y]];t.parent;)t=t.parent,r.push([t.x,t.y]);return r.reverse()}function s(t,r,e,a){var n,o,s,u,h,c,i=Math.abs,p=[];for(n=t<e?1:-1,o=r<a?1:-1,h=(s=i(e-t))-(u=i(a-r));p.push([t,r]),t!==e||r!==a;)(c=2*h)>-u&&(h-=u,t+=n),c<s&&(h+=s,r+=o);return p}t.backtrace=o,t.biBacktrace=function(t,r){var e=o(t),a=o(r);return e.concat(a.reverse())},t.pathLength=function(t){var r,e,a,n,o,s=0;for(r=1;r<t.length;++r)e=t[r-1],a=t[r],n=e[0]-a[0],o=e[1]-a[1],s+=Math.sqrt(n*n+o*o);return s},t.interpolate=s,t.expandPath=function(t){var r,e,a,n,o,u,h=[],c=t.length;if(c<2)return h;for(o=0;o<c-1;++o)for(r=t[o],e=t[o+1],n=(a=s(r[0],r[1],e[0],e[1])).length,u=0;u<n-1;++u)h.push(a[u]);return h.push(t[c-1]),h},t.smoothenPath=function(t,r){var e,a,n,o,u,h,c,i,p,f=r.length,l=r[0][0],d=r[0][1],x=r[f-1][0],v=r[f-1][1];for(n=[[e=l,a=d]],o=2;o<f;++o){for(c=s(e,a,(h=r[o])[0],h[1]),p=!1,u=1;u<c.length;++u)if(i=c[u],!t.isWalkableAt(i[0],i[1])){p=!0;break}p&&(lastValidCoord=r[o-1],n.push(lastValidCoord),e=lastValidCoord[0],a=lastValidCoord[1])}return n.push([x,v]),n},t.compressPath=function(t){if(t.length<3)return t;var r,e,a,n,o,s,u=[],h=t[0][0],c=t[0][1],i=t[1][0],p=t[1][1],f=i-h,l=p-c;for(f/=o=Math.sqrt(f*f+l*l),l/=o,u.push([h,c]),s=2;s<t.length;s++)r=i,e=p,a=f,n=l,f=(i=t[s][0])-r,l=(p=t[s][1])-e,l/=o=Math.sqrt(f*f+l*l),(f/=o)===a&&l===n||u.push([r,e]);return u.push([i,p]),u},e.exports,e.exports.backtrace,e.exports.biBacktrace,e.exports.pathLength,e.exports.interpolate,e.exports.expandPath,e.exports.smoothenPath,e.exports.compressPath}),{})}}}));

} }; });